<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SMTK story master toolkit</title>

<link rel="stylesheet" href="style/bootstrap.min.css" >
<link rel="stylesheet" type="text/css" href="style/style.css"
	media="screen" />
<!-- <script src="libs/vis.js"></script> -->
<!-- <script src="libs/viz.js"></script> -->
<!-- <script src="libs/dateFormat.js"></script> -->
<!-- <link href="libs/vis.css" rel="stylesheet" type="text/css" /> -->

<link rel="stylesheet" type="text/css" href="libs/vis.css"/ >
<script src="libs/vis.js"></script>


<link rel="stylesheet" type="text/css" href="libs/jquery.datetimepicker.css"/ >
<script src="libs/jquery-2.1.4.js"></script>
<script src="libs/jquery.datetimepicker.js"></script>


<!-- <link rel="stylesheet" href="libs/docxtemplater.css"> -->
<!-- <script type="text/javascript" src="libs/docxtemplater.js"></script> -->
<!-- <script src="libs/angular-expressions.js"></script> -->

<script src="libs/FileSaver.js"></script>
<script src="libs/jszip-utils.js"></script>
<script src="libs/jszip.js"></script>
<script src="libs/dateFormat.js"></script>

<!-- <script src="libs/docxgen.js"></script> -->
<script src="libs/docxgen.min.js"></script>

</head>
<body onload="PageManager.onLoad()">

	<script src="js/utils.js"></script>
	<script src="js/fileUtils.js"></script>
	<!-- 	<script src="js/data.js"></script> -->
	<script src="js/data2.js"></script>
	<!-- 	<script src="js/data3.js"></script> -->
	<script src="js/DBMS.js"></script>
	<!-- 	<script src="js/core.js"></script> -->

	<script src="js/pageManager.js"></script>
	<script src="js/migrator.js"></script>
	<script src="js/overview.js"></script>

	<script src="js/characters.js"></script>
	<script src="js/characterProfile.js"></script>
	<script src="js/characterFilter.js"></script>
	<script src="js/characterProfileConfigurer.js"></script>

	<script src="js/stories.js"></script>
	<script src="js/storyEvents.js"></script>
	<script src="js/storyCharacters.js"></script>
	<script src="js/eventPresence.js"></script>

	<script src="js/events.js"></script>

	<script src="js/briefings.js"></script>
	<script src="js/briefingExport.js"></script>
	<script src="js/briefingPreview.js"></script>

	<script src="js/timeline.js"></script>
	<script src="js/network/socialNetwork.js"></script>
	<script src="js/network/networkSubsetsSelector.js"></script>

	<script src="js/WorldCup2014.js"></script>


	<!--   <script src="js/gameCommon.js"></script> -->

	<!--   <script src="js/trialEditor.js"></script> -->
	<!--   <script src="js/editor.js"></script> -->
	<!--   <script src="js/gameTest.js"></script> -->
	<!--   <script src="js/gameBody.js"></script> -->

	<!--   <script src="js/ui.js"></script> -->

	<!-- 	<div class="block" id="navigation"> -->
	<div id="navigation">
	
	</div>

	<div class="block" id="contentArea"></div>

	<div class="hidden">
		<div id="overviewDiv">
		  <div class="panel panel-default">
        <div class="panel-body">
          <table>
	          <tr>
		          <td><span>Название</span></td>
		          <td><input id="gameNameInput"></input></td>
	          </tr>
	          <tr>
		          <td><span>Дата начала доигровых событий</span></td>
		          <td><input id="preGameDatePicker"></input></td>
	          </tr>
	          <tr>
		          <td><span>Дата окончания доигровых событий</span></td>
		          <td><input id="gameDatePicker"></input></td>
	          </tr>
          </table>
        </div>
      </div>
		
		  <div style="display:flex;justify-content: space-around;">
				<div class="panel panel-default" style="flex-grow:0;flex-basis: 0;">
					<div class="panel-heading">
					  <h3 class="panel-title">Описание</h3>
					</div>
					<div class="panel-body"><textarea id="gameDescription"></textarea></div>
				</div>
				<div class="panel panel-default" style="flex-grow:0;flex-basis: 300px;">
					<div class="panel-heading">
					  <h3 class="panel-title">Статистика</h3>
					</div>
					<div class="panel-body"></div>
				</div>
		  
		  </div>
<!-- 			Описание<br><textarea id="gameDescription"></textarea> -->
		</div>


		<div id="charactersDiv">

		  <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Управление персонажами</h3>
        </div>
        <div class="panel-body">
	        <input id="characterNameInput"></input>
	        <button id="createCharacterButton">Добавить</button>
	        <br> Переименовать из <select id="fromName"></select> в <input
	          id="toName"></input>
	        <button id="renameCharacter">OK</button>
	        <br> <select id="characterRemoveSelector"></select>
	        <button id="removeCharacterButton">Удалить</button>
        </div>
      </div>
		
			<div id="charactersNavigation"></div>
			<div id="charactersContent"></div>
		</div>


      
		<div id="characterProfile">
		  <div class="panel panel-default">
        <div class="panel-body">
					<table>
						<tr>
							<th>Персонажи</th>
						</tr>
						<tr>
							<td><select size=20 id="bioEditorSelector"></select></td>
							<td>
								<div id="profileContentDiv"></div>
							</td>
						</tr>
					</table>
        </div>
      </div>

		</div>

		<div id="characterProfileConfigurer">
		  <div class="panel panel-default">
        <div class="panel-body">
					Название<input id="profileItemNameInput"></input> Тип<select
						id="profileItemTypeSelector">
					</select> Позиция <select id="profileItemPositionSelector">
					</select>
					<button id="createProfileItemButton">Добавить</button>
					<br> Поменять местами <select id="firstProfileField"></select> и
					<select id="secondProfileField"></select>
					<button id="swapProfileFieldsButton">OK</button>
					<br> <select id="removeProfileItemSelector"></select>
					<button id="removeProfileItemButton">Удалить</button>
					<br>
		
					<table id="profileConfigBlock"></table>
        </div>
      </div>

		</div>
		

		<div id="characterFilterDiv">
			<table>
				<tr>
					<td>
			      <div class="panel panel-default">
			        <div class="panel-heading">
			          <h3 class="panel-title">Фильтр</h3>
			        </div>
			        <div class="panel-body">
								<div id="filterSettingsDiv"></div>
			        </div>
			      </div>
					</td>
					<td>
			      <div class="panel panel-default">
			        <div class="panel-body">
								<table id="filterContent" class="table table-striped table-bordered"></table>
			        </div>
			      </div>
					</td>
				</tr>
			</table>
		</div>
		


		<div id="storiesDiv">
		  <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Управление историями</h3>
        </div>
        <div class="panel-body">
					<input id="createStoryName"></input>
					<button id="createStoryButton">Добавить</button>
					<br> Переименовать из <select id="fromStory"></select> в <input
						id="toStory"></input>
					<button id="renameStoryButton">OK</button>
					<br> <select id="storyRemoveSelector"></select>
					<button id="removeStoryButton">Удалить</button>
        </div>
      </div>

			<table>
				<tr>
					<th>Истории</th>
					<th>Мастерская история</th>
					<th ><div id="storiesNavigation"></div></th>
				</tr>
				<tr>
					<td>
		      <div class="panel panel-default">
		        <div class="panel-body">
					    <select size=20 id="storySelector"></select>
		        </div>
		      </div>
					
					</td>
					<td>
		      <div class="panel panel-default">
		        <div class="panel-body">
					     <textarea id="masterStoryArea"></textarea>
		        </div>
		      </div>
					</td>
					<td>
				    <div id="storiesContent"></div>
					</td>
				</tr>
			</table>
		</div>




		<div id="storyEventsDiv">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Управление событиями</h3>
        </div>
        <div class="panel-body">
					Название<input id="eventNameInput"></input><br>
					<textarea id="eventInput" class="eventText"></textarea>
					<select id="positionSelector"></select>
					<button id="createEventButton">Добавить</button>
					<br> Поменять местами <select id="firstEvent"></select> и <select
						id="secondEvent"></select>
					<button id="swapEventsButton">OK</button>
					<br> <select id="cloneEventSelector"></select>
					<button id="cloneEventButton">Клонировать</button>
					<br> <select id="mergeEventSelector"></select>
					<button id="mergeEventButton">Объединить</button>
					<br> <select id="removeEventSelector"></select>
					<button id="removeEventButton">Удалить</button>
					<br> <br> <br>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-body">
					<table id="eventBlock"></table>
        </div>
      </div>
		</div>



		<div id="storyCharactersDiv">
      <div class="panel panel-default">
        <div class="panel-body">
					<select id="storyCharactersAddSelector"></select>
					<button id="storyCharactersAddButton">Добавить</button>
					<br> Заменить<select id="storyCharactersFromSelector"></select>
					на <select id="storyCharactersToSelector"></select>
					<button id="storyCharactersSwitchButton">ОК</button>
					<br> <select id="storyCharactersRemoveSelector"></select>
					<button id="storyCharactersRemoveButton">Удалить</button>
					<br> <br>
		
					<table id="storyCharactersTable"></table>
					Контроль:<span id="inventoryCheck"></span>
					<table id="story-characterActivityTable"></table>
        </div>
      </div>
		</div>

		<div id="eventPresenceDiv">
      <div class="panel panel-default">
        <div class="panel-body">
					<table id="eventPresenceTable" cellspacing=0 cellpadding=0></table>
        </div>
      </div>
		</div>



		<div id="eventsDiv">
			<input type="checkbox" id="finishedStoryCheckbox">Показывать
			только незавершенные истории</input><br>
			<table cellspacing=0 cellpadding=0>
				<tr>
					<td>
						<div id="personalStoriesCharacterContainer">
				      <div class="panel panel-default">
							  <div class="panel-heading">
			            <h3 class="panel-title">История</h3>
			          </div>
				        <div class="panel-body">
				          <select id="events-storySelector" size=10></select>
				        </div>
				      </div>
				      <div class="panel panel-default">
							  <div class="panel-heading">
			            <h3 class="panel-title">Персонажи</h3>
			          </div>
				        <div class="panel-body">
									<select id="events-characterSelector" multiple size=15></select>
				        </div>
				      </div>
						</div>
					</td>
					<td>
						<div class="panel panel-default">
			        <div class="panel-heading">
			          <h3 class="panel-title">Адаптации</h3>
			        </div>
			        <div class="panel-body">
								<table id="personalStories"></table>
			        </div>
			      </div>
					</td>
				</tr>
			</table>
		</div>

		<div id="briefingsDiv">
			<div id="briefingsNavigation"></div>
			<div id="briefingsContent" class="block"></div>
		</div>

		<div id="briefingPreviewDiv">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Настройки</h3>
        </div>
        <div class="panel-body">
					<input type="radio" name="eventsGroupBy" value="story" 
					id="eventGroupingByStoryRadio">Группировать события по историям</input> <br> 
					<input type="radio" name="eventsGroupBy" value="time" 
					id="eventGroupingByTimeRadio">Сортировать события по хронологии</input> <br> 
        </div>
      </div>
			
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title"><select id="briefingCharacter"></select></h3>
        </div>
        <div class="panel-body">
					<div id="briefingContent"></div>
        </div>
      </div>
			
			

		</div>

		<div id="briefingExportDiv">
      <div class="panel panel-default">
        <div class="panel-body">
					<input type="radio" name="eventsGroupBy2" value="story"
						id="eventGroupingByStoryRadio2">Группировать события по
					историям</input> <br> <input type="radio" name="eventsGroupBy2"
						value="time" id="eventGroupingByTimeRadio2">Сортировать
					события по хронологии</input> <br> <input type="checkbox"
						id="toSeparateFileCheckbox">Каждую в отдельный файл</input> <br>
		
		
					Сформировать вводные docx<input type="file" id="docxBriefings"></input><br>
					<button id="makeBriefings">Сформировать вводные txt</button>
					<br>
        </div>
      </div>
		</div>



		<div id="timelineDiv">

			<div class="flexRoot">
				<div class="storySelectorContainer">
		      <div class="panel panel-default">
		        <div class="panel-heading">
		          <h3 class="panel-title">Истории</h3>
		        </div>
		        <div class="panel-body">
						  <select size=20 id="timelineStorySelector" multiple></select>
		        </div>
		      </div>
				</div>
				<div class="visualObjectContainer" id="timelineContainer"></div>
			</div>

		</div>



		<div id="socialNetworkDiv">

			<div class="flexRoot">
				<div class="storySelectorContainer" id="commonSettingsContainer">
		      <div class="panel panel-default">
		        <div class="panel-heading">
		          <h3 class="panel-title">Общие настройки</h3>
		        </div>
		        <div class="panel-body">
							Раскраска узлов <select
								id="networkNodeGroupSelector"></select> Легенда
							<div id="colorLegend"></div>
		
							Выборка <select size=3 id="networkSubsetsSelector"></select>
							<div id="networkCharacterDiv" class="hidden">
								Персонажи<br /> <select size=20 id="networkCharacterSelector"
									multiple></select>
							</div>
		
							<div id="networkStoryDiv" class="hidden">
								Истории<br /> <select size=20 id="networkStorySelector" multiple></select>
							</div>
		        </div>
		      </div>

				</div>
				<div class="storySelectorContainer" id="privateSettingsContainer">
		      <div class="panel panel-default">
		        <div class="panel-heading">
		          <h3 class="panel-title">Частные настройки</h3>
		        </div>
		        <div class="panel-body">
							Социальная сеть <select size=4
								id="networkSelector"></select>
		
							<div id="activityBlock" class="hidden">
								Активность <select size=4 id="activitySelector" multiple></select>
							</div>
		
							<button id="drawNetworkButton">Нарисовать</button>
							<button id="hideNetworkSettingsButton">Спрятать панель</button>
		        </div>
		      </div>
				</div>

				<div class="storySelectorContainer2 hidden"
					id="showSettingsButtonContainer">
					<button id="showNetworkSettingsButton">+</button>
				</div>

				<div class="visualObjectContainer" id="socialNetworkContainer"></div>
			</div>
		</div>


	</div>

</body>
</html>